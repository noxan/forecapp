(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{48312:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(19132)}])},45909:function(e,t,a){"use strict";var n=a(85893),i=a(34475);t.Z=e=>{let{dataset:t,importAction:a,disabled:r}=e;return(0,n.jsx)(i.b7,{xs:!0,children:(0,n.jsxs)(i.xH,{className:"mb-3",children:[(0,n.jsx)(i.pX,{orientation:"top",src:"https://images.unsplash.com/".concat(t.image,"?fit=crop&w=630&h=210&q=80")}),(0,n.jsxs)(i.sl,{children:[(0,n.jsx)(i.tj,{children:t.title}),(0,n.jsx)(i.a1,{className:"mb-2 text-medium-emphasis",children:t.subtitle}),(0,n.jsx)(i.uS,{children:t.description}),(0,n.jsxs)(i.u5,{disabled:r,variant:"outline",className:"stretched-link",onClick:e=>{e.preventDefault(),a(t.filename)},children:["Import „",t.title,"‟ dataset"]})]})]})},t.filename)}},19132:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return eI}});var n,i,r=a(85893),o=a(34475),s=a(67294),l=a(66816),d=a(55406),c=a(76503),h=a(27525);function u(e){let t=Object.values(e.prediction.ds),a=t.length*e.holdoutFraction|0;return(0,r.jsx)(c.Z,{useResizeHandler:!0,data:(0,h.C1)(e.prediction,e.showUncertainty,e.showTrend,e.showEvents,e.confidenceLevel),layout:{hovermode:"x",showlegend:!0,legend:{itemclick:!1,itemdoubleclick:!1,orientation:"h",y:-.05},margin:{t:10,r:30},shapes:[{layer:"below",type:"rect",yref:"paper",y1:1,y0:0,xref:"x",x0:t[t.length-1],x1:t[t.length-a-1],opacity:.25,fillcolor:"grey",line:{width:0}}],yaxis:{title:{text:e.targetColumn}}},config:{responsive:!0},style:{width:"100%",minHeight:"85vh"}})}function g(e){let t=(0,l.C)(e=>e.models.autoregression.lags),a=e.y.map((t,a)=>t-e.ypredicted[a]).slice(t),n=e.holdoutFraction?e.ds.length*e.holdoutFraction|0:0;return(0,r.jsx)(c.Z,{useResizeHandler:!0,data:[{type:"scattergl",mode:"lines",line:{color:"#2d92ff",width:2},name:"Residual Error",y:a,x:e.ds}],layout:{hovermode:"x",showlegend:!0,legend:{itemclick:!1,itemdoubleclick:!1,orientation:"h",y:-.05},margin:{t:10,r:30},shapes:[{layer:"below",type:"rect",yref:"paper",y1:1,y0:0,xref:"x",x0:e.ds[e.ds.length-1],x1:e.ds[e.ds.length-n-1],opacity:.25,fillcolor:"grey",line:{width:0}}]},config:{responsive:!0},style:{width:"100%",minHeight:"85vh"}})}function m(e){let t=(0,l.C)(d.$m),a=(0,l.C)(e=>e.datasets.validationResult),n=(0,l.C)(d.mW),i=(0,l.C)(e=>e.models.validation.confidenceLevel),h=(0,l.C)(e=>e.models.validation.testSplit)/100,m=a&&"ok"===a.status?structuredClone(a.explainable.components):void 0,p=(0,s.useMemo)(()=>a?Object.values(a.prediction.y).map(e=>Number(e)).filter(e=>!isNaN(e)):void 0,[a]),x=(0,s.useMemo)(()=>a?Object.values(a.prediction.ds):void 0,[a]),f=(0,s.useMemo)(()=>a?Object.values(a.prediction.yhat1).map(e=>Number(e)).filter(e=>!isNaN(e)):void 0,[a]),[j,v]=(0,s.useState)(!1);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.V9,{visible:e.staleEvaluation,children:(0,r.jsx)(o.Gc,{color:"primary",children:(0,r.jsxs)(o.rb,{children:[(0,r.jsx)(o.b7,{children:" The model configuration changed. Rerun evaluation?"}),(0,r.jsx)(o.b7,{children:(0,r.jsxs)(o.u5,{onClick:e.validate,children:["loading"===n&&(0,r.jsx)(o.LQ,{component:"span",size:"sm","aria-hidden":"true"}),"Confirm"]})})]})})}),a&&"ok"===a.status&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u,{prediction:a.prediction,holdoutFraction:a.configuration.validation.testSplit/100,targetColumn:t,showUncertainty:!0,showTrend:!1,showEvents:!1,confidenceLevel:i}),(0,r.jsx)(g,{ds:x,y:p,ypredicted:f,holdoutFraction:h}),(0,r.jsx)(o.u5,{onClick:()=>v(!j),children:j?"Hide model components":"Show model components"}),(0,r.jsx)(o.V9,{visible:j,children:m&&(0,r.jsx)(c.Z,{data:m.data,layout:m.layout})})]})]})}var p=a(2308),x=a(14884),f=a(2980),j=a(91529);function v(e){let t=Array(e);for(let a=0;a<e;a++)t[a]=a;return t}function b(e,t){let a=v(e.length),n=(t,a)=>e[t].time-e[a].time;switch(t){case"Time":n=(t,a)=>e[t].time-e[a].time;break;case"Train MAE":n=(t,a)=>(0,f.Mg)(e[t])-(0,f.Mg)(e[a]);break;case"Test Loss":n=(t,a)=>(0,f.jO)(e[t])-(0,f.jO)(e[a])}return a.sort(n)}function y(){let e=(0,l.T)(),t=(0,l.C)(d.cg),[a,n]=(0,s.useState)(v(t.models.length)),[i,c]=(0,s.useState)("Time");return(0,r.jsx)(o.KB,{fluid:!0,children:(0,r.jsx)(o.b7,{children:(0,r.jsxs)(o.Sx,{striped:!0,hover:!0,children:[(0,r.jsx)(o.V,{children:(0,r.jsxs)(o.T6,{children:[(0,r.jsxs)(o.is,{scope:"col",onClick:()=>{n(b(t.models,"Time")),c("Time")},children:["Time Created","Time"===i&&(0,r.jsx)(p.Z,{icon:x.p,size:"sm"})]}),(0,r.jsxs)(o.is,{scope:"col",onClick:()=>{n(b(t.models,"Test Loss")),c("Test Loss")},children:["Test Loss","Test Loss"===i&&(0,r.jsx)(p.Z,{icon:x.p,size:"sm"})]}),(0,r.jsxs)(o.is,{scope:"col",onClick:()=>{n(b(t.models,"Train MAE")),c("Train MAE")},children:["Train MAE","Train MAE"===i&&(0,r.jsx)(p.Z,{icon:x.p,size:"sm"})]})]})}),(0,r.jsx)(o.NR,{children:a.map((a,n)=>{let i=t.models[a];return(0,r.jsxs)(o.T6,{active:t.currentModel===a,children:[(0,r.jsx)(o.is,{scope:"row",children:new Date(i.time).toUTCString()}),(0,r.jsx)(o.NN,{children:(0,f.jO)(i)}),(0,r.jsx)(o.NN,{children:(0,f.Mg)(i)}),(0,r.jsx)(o.NN,{children:t.currentModel===a?(0,r.jsx)(o.u5,{color:"success",children:"Current Model"}):(0,r.jsx)(o.u5,{onClick:()=>{e((0,f.F9)(a)),e((0,j.iC)(i))},children:"Apply model"})})]},a)})})]})})})}function C(e){let t=(0,l.C)(e=>e.datasets.validationResult),a=(0,l.C)(d.lc),n=t&&"ok"===t.status?structuredClone(t.explainable.parameters):void 0,i=(0,s.useMemo)(()=>{switch(e.view){case"Previous Performance":return(0,r.jsx)(y,{});case"Test Train Split":return(0,r.jsx)(m,{staleEvaluation:a,validate:e.validate});case"Model Parameters":return n&&(0,r.jsx)(c.Z,{data:n.data,layout:n.layout})}},[e,n,a]);return i}var k=a(57460);let w=e=>{let t=Object.keys(e),a=Object.values(e[t[0]]).map((a,n)=>{let i={};return t.forEach(t=>{i[t]=e[t][n]}),i}),n=(0,k.unparse)(a),i=new Blob([n]),r=URL.createObjectURL(i),o=document.createElement("a");o.href=r,o.setAttribute("download","forecapp-export.csv"),o.click()};function S(e){var t;let a=(0,l.C)(e=>e.datasets.prediction),n=(0,l.C)(d.$m),i=(0,l.C)(d.mW),s=(0,l.C)(e=>e.models.validation.confidenceLevel);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.V9,{visible:e.stalePrediction,children:(0,r.jsx)(o.Gc,{color:"primary",children:(0,r.jsxs)(o.rb,{children:[(0,r.jsx)(o.b7,{children:" The model configuration changed. Rerun prediction?"}),(0,r.jsx)(o.b7,{children:(0,r.jsxs)(o.u5,{onClick:e.predict,children:["loading"===i&&(0,r.jsx)(o.LQ,{component:"span",size:"sm","aria-hidden":"true"}),"Confirm"]})})]})})}),a&&"ok"===a.status&&(0,r.jsx)(h.D6,{forecast:a.forecast,targetColumn:n,numForecasts:null===(t=a.configuration)||void 0===t?void 0:t.forecasts,showUncertainty:e.chartConfig.showUncertainty,showEvents:e.chartConfig.showEvents,showTrend:e.chartConfig.showTrend,showHistory:e.chartConfig.showHistory,confidenceLevel:s}),(0,r.jsxs)(o.Tk,{visible:e.exportModal,onClose:e.onCloseModal,children:[(0,r.jsx)(o.p0,{children:(0,r.jsx)(o.fl,{children:"Export"})}),(0,r.jsx)(o.sD,{children:(0,r.jsx)("div",{className:"d-grid gap-2 col-3 mx-auto text-nowrap justify-content-md-center",children:(0,r.jsx)(o.u5,{disabled:!a||!a.forecast,onClick:()=>w(a.forecast),children:"Export prediction as CSV"})})}),(0,r.jsx)(o.Ym,{children:(0,r.jsx)(o.u5,{color:"primary",onClick:e.onCloseModal,children:"Done"})})]})]})}var T=a(36994),N=a(3654),P=a(1604),E=a(53525),U=a(93946),I=a(74721);function z(e){let{explanationText:t,documentationLink:a="https://dogecoin.com/",visible:n=!1,setVisible:i}=e;return(0,r.jsx)(r.Fragment,{children:n&&(0,r.jsxs)(o.xH,{children:[(0,r.jsx)(o.bn,{className:"text-end",children:(0,r.jsx)(o.pd,{onClick:()=>i(!1)})}),(0,r.jsx)(o.sl,{children:t}),(0,r.jsx)(o.sl,{children:(0,r.jsx)(o.I3,{href:a,target:"_blank",rel:"noreferrer",children:"Link to documentation"})})]})})}function L(e){let{title:t,explanation:a,documentationLink:n,children:i}=e,[l,d]=(0,s.useState)(!1);return(0,r.jsx)(o.xH,{className:"my-3",children:(0,r.jsxs)(o.sl,{children:[(0,r.jsxs)(o.tj,{children:[t,(0,r.jsx)(U.Z,{onClick:()=>d(!0),children:(0,r.jsx)(I.Z,{})})]}),(0,r.jsx)("div",{className:"row align-items-start",children:(0,r.jsxs)("div",{className:"col-12",children:[i,(0,r.jsx)("br",{}),(0,r.jsx)(z,{explanationText:a,documentationLink:n,visible:l,setVisible:d})]})})]})})}let M=(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("p",{children:[(0,r.jsx)("b",{children:"Holidays"})," are special days that are celebrated by a country or region. They are typically recurring and can be single or multiple days. This input allows you to include all the celebrated holidays of one or multiple countries."]})}),O="https://neuralprophet.com/tutorials/tutorial07.html",A=(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("p",{children:[(0,r.jsx)("b",{children:"Events"})," are any recurring special time ranges that might occur in a time series. They can be from a few seconds up to months depending on the time unit and duration of your dataset."]})}),F=(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("p",{children:[(0,r.jsx)("b",{children:"Autoregression"})," uses previous values of a time-series to predict the value of the next time point. It is based on the assumption that the past values of a time-series are related to the future values in a linear way. The optimal value for an autoregressive model is determined by the complexity of the relationship between the past and future values in the time-series data. A larger value may capture more of this complexity, but it may also increase the risk of overfitting, where the model fits the training data too closely and may not generalize well to new data. On the other hand, a smaller value may not capture enough complexity and may result in a model with lower accuracy."]})}),H=(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("p",{children:[(0,r.jsx)("b",{children:"Lagged regressors "}),"allow you to include additional measured quantities for generating the time series forecast. Let's say you want to predict the daily sales of an icecream shop. In addition to providing the model with the past sales of that ice cream place, it might be useful to provide it with the weather data for a given day. This way, the model can learn that on hot days, more ice cream is sold. The lagged regressors allow you to provide the model with this additional information. You can select any number of columns from the dataset as lagged regressors. The model will then use the values of these columns at the same time point as the target column to predict the target column. For example, if you select the column 'temperature' as a lagged regressor, the model will use the temperature at the same time point as the target column to predict the target column."]})}),_=(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("p",{children:[(0,r.jsx)("b",{children:"Trend change points"}),", also known as inflection points, are points in a data series where the direction of the trend changes. For example,if a data series is trending upwards and then begins to trend downwards, the point where the upward trend ends and the downward trend begins is a trend change point."]})}),V=(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("p",{children:[(0,r.jsx)("b",{children:"Seasonality"})," is a characteristic of a time series in which the data experiences regular and predictable changes that recur periodically. Any predictable change or pattern in a time series that recurs or repeats over a period can be said to be seasonal. Seasonality refers to periodic fluctuations. For example, electricity consumption is high during the day and low during night, or online sales increase during Christmas before decreasing again. Seasonality is always of a fixed and known frequency. When selecting a daily, weekly, or monthly seasonality, the model will look for a recurring pattern in the data with the given time scale."]})}),D=(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("p",{children:[(0,r.jsx)("b",{children:"Epochs"})," are the number of times the model will go through the entire training dataset. When early stopping is enabled, the model will stop as soon as the improvement in model performance plateaus."]})}),R=(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("p",{children:[(0,r.jsx)("b",{children:"Learning rate"})," is a hyperparameter that controls how much to change the model in response to the estimated error each time the model weights are updated."]})}),Z=(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("p",{children:[(0,r.jsx)("b",{children:"Batch size"})," is a hyperparameter that defines the number of samples to input into the model before the model parameters are updated."]})}),Q=(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("p",{children:[(0,r.jsx)("b",{children:"Train test split"})," is a method for evaluating the performance of a machine learning algorithm. It splits the dataset into two parts: a training set and a test set. The training set is used to train the model, while the test set is used to evaluate the model's performance. The training set is typically larger than the test set."]})}),W=(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("p",{children:[(0,r.jsx)("b",{children:"Quantiles"})," are percentage bins for how likely the true result is to be in a certain range. Standard quantiles are 68%, 95%, and 99.7%. The intervals are always symmetric, and centered around the median of the distribution."]})}),B=(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("p",{children:[(0,r.jsx)("b",{children:"Prediction horizon"})," is the number of time units into the future that the model will predict. For example, if you are predicting the daily sales of an ice cream shop, and you want to predict the sales for the next 7 days, the prediction horizon is 7 days."]})});var $=a(72267);function q(){let e=(0,l.C)(d.dO),t=(0,l.T)(),{trend:a}=(0,$.AH)(e,"underlying-trends");return(0,r.jsxs)("div",{"data-section":!0,id:"underlying-trends",children:[(0,r.jsx)("h2",{className:"mb-4",children:"Underlying Trends"}),(0,r.jsxs)(L,{explanation:_,documentationLink:"https://neuralprophet.com/tutorials/tutorial02.html",title:"Trend",children:[(0,r.jsx)(o.EC,{id:"trend",label:"Enable trend",defaultChecked:"linear"===e.trend.growth,onChange:e=>t((0,j.zy)({trend:{growth:e.target.checked?"linear":"off"}}))}),"Number of changepoints"," ",(0,r.jsx)(o.jO,{type:"number",min:0,disabled:"off"===e.trend.growth,defaultValue:e.trend.numberOfChangepoints,onChange:e=>{t((0,j.zy)({trend:{numberOfChangepoints:Number(e.target.value)}}))},valid:a.numberOfChangepoints.valid,invalid:!a.numberOfChangepoints.valid,feedbackValid:"",feedbackInvalid:a.numberOfChangepoints.error})]}),(0,r.jsxs)(L,{explanation:V,title:"Seasonality",documentationLink:"https://neuralprophet.com/tutorials/tutorial03.html",children:[(0,r.jsx)(o.EC,{id:"seasonalityDaily",label:"Enable daily seasonality",defaultChecked:e.seasonality.daily,onChange:e=>t((0,j.zy)({seasonality:{daily:e.target.checked}}))}),(0,r.jsx)(o.EC,{id:"seasonalityWeekly",label:"Enable weekly seasonality",defaultChecked:e.seasonality.weekly,onChange:e=>t((0,j.zy)({seasonality:{weekly:e.target.checked}}))}),(0,r.jsx)(o.EC,{id:"seasonalityYearly",label:"Enable yearly seasonality",defaultChecked:e.seasonality.yearly,onChange:e=>t((0,j.zy)({seasonality:{yearly:e.target.checked}}))})]})]})}let X=e=>""===e?null:Number(e);function Y(){let e=(0,l.C)(d.dO),t=(0,l.T)(),{training:a}=(0,$.AH)(e,"training-configuration");return(0,r.jsxs)("div",{"data-section":!0,id:"training-configuration",children:[(0,r.jsx)("h2",{className:"mb-4",children:"Training Configuration"}),(0,r.jsxs)(L,{explanation:D,documentationLink:"",title:"Epochs",children:[(0,r.jsx)(o.jO,{type:"number",placeholder:"auto",min:1,defaultValue:e.training.epochs,onChange:e=>t((0,j.zy)({training:{epochs:X(e.target.value)}})),valid:a.epochs.valid,invalid:!a.epochs.valid,feedbackValid:"",feedbackInvalid:a.epochs.error}),(0,r.jsx)(o.EC,{id:"earlyStopping",label:"Stop training early if no improvement is seen",defaultChecked:e.training.earlyStopping,onChange:e=>t((0,j.zy)({training:{earlyStopping:e.target.checked}}))})]}),(0,r.jsx)(L,{explanation:R,documentationLink:"",title:"Learning rate",children:(0,r.jsx)(o.jO,{type:"number",placeholder:"auto",defaultValue:e.training.learningRate,onChange:e=>t((0,j.zy)({training:{learningRate:X(e.target.value)}})),valid:a.learningRate.valid,invalid:!a.learningRate.valid,feedbackValid:"",feedbackInvalid:a.learningRate.error})}),(0,r.jsx)(L,{explanation:Z,documentationLink:"",title:"Batch size",children:(0,r.jsx)(o.jO,{type:"number",placeholder:"auto",defaultValue:e.training.batchSize,onChange:e=>t((0,j.zy)({training:{batchSize:X(e.target.value)}})),valid:a.batchSize.valid,invalid:!a.batchSize.valid,feedbackValid:"",feedbackInvalid:a.batchSize.error})})]})}var G=a(45268);function K(){let e=(0,l.C)(d.dO),t=(0,l.T)();return(0,r.jsxs)("div",{"data-section":!0,id:"dataset-info",children:[(0,r.jsx)("h2",{className:"mb-4",children:"Dataset Info"}),(0,r.jsxs)(L,{explanation:M,documentationLink:O,title:"Holidays",children:["Which country specific holidays should be considered?",(0,r.jsx)(G.Z,{modelConfiguration:e,updateConfig:e=>t((0,j.zy)(e))})]}),(0,r.jsx)(L,{explanation:A,documentationLink:O,title:"Events",children:"Here you can add specifal, recurring, single or multiple day events."})]})}var J=a(66323);let ee=e=>""===e?null:Number(e);function et(){let e=(0,l.C)(d.dO),t=(0,l.T)(),a=(0,l.C)(d.e_),n=(0,l.C)(d.$m),i=Object.keys((0,l.C)(d.Wb)[0]),s=i.filter(e=>e!==a&&e!==n),{autoregression:c}=(0,$.AH)(e,"modeling-assumptions");return(0,r.jsxs)("div",{"data-section":!0,id:"modeling-assumptions",children:[(0,r.jsx)("h2",{className:"mb-4",children:"Modeling Assumptions"}),(0,r.jsxs)(L,{explanation:F,title:"Auto Regression",documentationLink:"https://neuralprophet.com/tutorials/tutorial04.html",children:[(0,r.jsx)(o.jO,{className:"mb-4",type:"number",placeholder:"Number of lags",min:0,defaultValue:e.autoregression.lags,onChange:e=>t((0,j.zy)({autoregression:{lags:ee(e.target.value)}})),valid:c.lags.valid,invalid:!c.lags.valid,feedbackValid:"",feedbackInvalid:c.lags.error}),(0,r.jsx)(o.ZB,{min:0,max:1,step:.01,label:"Regularization (".concat(e.autoregression.regularization,")"),defaultValue:e.autoregression.regularization,onChange:e=>t((0,j.zy)({autoregression:{regularization:Number(e.target.value)}}))})]}),(0,r.jsx)(L,{explanation:H,title:"Lagged regressors",documentationLink:"https://neuralprophet.com/tutorials/tutorial05.html",children:(0,r.jsx)(J.Z,{laggedRegressorColumns:s,modelConfiguration:e,updateConfig:e=>t((0,j.zy)(e))})})]})}let ea=e=>""===e?null:Number(e);function en(){let e=(0,l.C)(d.dO),t=(0,l.T)();return(0,r.jsxs)("div",{"data-section":!0,id:"validation-configuration",children:[(0,r.jsx)("h2",{className:"mb-4",children:"Validation Configuration"}),(0,r.jsx)(L,{explanation:Q,title:"Train / Test Split",documentationLink:"https://neuralprophet.com/tutorials/tutorial10.html",children:(0,r.jsx)(o.ZB,{min:0,max:30,step:1,label:"".concat(e.validation.testSplit,"% of data used as test set"),defaultValue:e.validation.testSplit,placeholder:"Relative size of test set in %",onChange:e=>t((0,j.zy)({validation:{testSplit:ea(e.target.value)}}))})}),(0,r.jsx)(L,{explanation:W,title:"Quantiles",documentationLink:"https://neuralprophet.com/tutorials/tutorial08.html",children:(0,r.jsx)(o.ZB,{min:68,max:99,step:1,label:"Confidence Interval ".concat(e.validation.confidenceLevel,"%"),defaultValue:e.validation.confidenceLevel,onChange:e=>t((0,j.zy)({validation:{confidenceLevel:Number(e.target.value)}}))})})]})}let ei=e=>""===e?null:Number(e);function er(){let e=(0,l.C)(d.dO),t=(0,l.T)(),a=(0,l.C)(d.Wb),n=(0,l.C)(d.e_),i=(0,N.FV)(a,n),{forecasts:s}=(0,$.AH)(e,"prediction-configuration");return(0,r.jsxs)("div",{"data-section":!0,id:"prediction-configuration",children:[(0,r.jsx)("h2",{className:"mb-4",children:"Prediction Configuration"}),(0,r.jsxs)(L,{explanation:B,title:"Prediction Horizon",documentationLink:"https://neuralprophet.com/tutorials/tutorial01.html",children:["How far should the model predict into the future? The unit is based on your dataset in ",(0,r.jsx)("b",{children:i}),".",(0,r.jsx)(o.jO,{type:"number",defaultValue:e.forecasts,placeholder:"Number of values to forecast ...",onChange:e=>t((0,j.zy)({forecasts:ei(e.target.value)})),valid:s.valid,invalid:!s.valid,feedbackValid:"",feedbackInvalid:s.error})]})]})}let eo=e=>{switch(e){case"underlying-trends":return(0,r.jsx)(q,{},"underlying-trends");case"training-configuration":return(0,r.jsx)(Y,{},"training-configuration");case"dataset-info":return(0,r.jsx)(K,{},"dataset-info");case"modeling-assumptions":return(0,r.jsx)(et,{},"modeling-assumptions");case"validation-configuration":return(0,r.jsx)(en,{},"validation-configuration");case"prediction-configuration":return(0,r.jsx)(er,{},"prediction-configuration");default:return(0,r.jsx)("h1",{children:"Nothing selected!"},"default")}};function es(e){let t=(0,s.useRef)([]),a=()=>{let a=window.scrollY,n="underlying-trends";t.current.forEach(e=>{let t=e.offsetTop,i=e.offsetHeight;a+20>=t&&a<t+i&&(n=e.id)}),e.onSelectionChange(n)};return(0,s.useEffect)(()=>(t.current=Array.from(document.querySelectorAll("[data-section").values()),window.addEventListener("scroll",a),()=>{window.removeEventListener("scroll",a)}),[]),(0,r.jsx)("div",{className:"overflow-scroll",children:[eo("prediction-configuration"),(0,r.jsx)("hr",{style:{background:"black",color:"black",height:"3px",borderColor:"black"}},"line_1"),eo("dataset-info"),(0,r.jsx)("hr",{style:{background:"black",color:"black",height:"3px",borderColor:"black"}},"line_2"),eo("underlying-trends"),(0,r.jsx)("hr",{style:{background:"black",color:"black",height:"3px",borderColor:"black"}},"line_3"),eo("modeling-assumptions"),(0,r.jsx)("hr",{style:{background:"black",color:"black",height:"3px",borderColor:"black"}},"line_4"),eo("training-configuration"),(0,r.jsx)("hr",{style:{background:"black",color:"black",height:"3px",borderColor:"black"}},"line_5"),eo("validation-configuration")]})}var el=a(3314),ed=a(68022),ec=a(97908),eh=a(63909),eu=a(89199),eg=e=>{let{selectTime:t,selectTarget:a}=e,n=(0,l.C)(d.Wb),i=n.slice(0,10),[c,h]=(0,s.useState)(!1),u=(0,l.T)(),g=(0,l.C)(d.e_);return(0,l.C)(d.$m),console.log(g),(0,eh.c3)(g),(0,eh.c3)(g),(0,s.useMemo)(()=>{if(!(0,eh.c3)(g))return!0;let e=(0,eu.r)(n,g);return e?h(!1):h(!0),e},[n,g]),(0,r.jsxs)("div",{children:[(0,r.jsx)(o.Gc,{dismissible:!0,color:"danger",visible:c,onClose:()=>h(!1),children:"The selected column isn't a valid time column. Choose another, or try editing the dataset!"}),(0,r.jsx)(o.rb,{className:"my-2",children:(0,r.jsx)(o.b7,{onClick:e=>t?u((0,T.qX)(e.target.outerText)):a?u((0,T.VN)(e.target.outerText)):null,children:(0,r.jsx)(ec.Z,{data:i})})})]})},em=a(62594);function ep(){let[e,t]=(0,s.useState)(!1),[a,n]=(0,s.useState)(!1),[i,c]=(0,s.useState)(!1),h=(0,l.C)(d.e_);console.log(h);let u=(0,l.C)(d.Wb);return u?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.$A,{role:"group",children:(0,r.jsxs)(o.Z0,{children:[(0,r.jsx)(o.u5,{onClick:()=>{t(!0),n(!1)},color:"info",variant:e?"outline":void 0,shape:"rounded-0",children:"Set Time Column"}),(0,r.jsx)(o.u5,{onClick:()=>{t(!1),n(!0)},color:"success",variant:a?"outline":void 0,shape:"rounded-0",children:"Set Target Column"})]})}),(0,r.jsx)(eg,{selectTime:e,selectTarget:a}),(0,r.jsx)(el.Z,{})]}):(0,r.jsx)(em.Z,{})}var ex=a(86634);function ef(e){return(e=>{switch(e){case"data-selector":default:return(0,r.jsx)(ep,{});case"data-viewer":return(0,r.jsx)(ed.Z,{});case"data-visualize":return(0,r.jsx)(el.Z,{showLegend:!0});case"data-table":return(0,r.jsx)(ex.Z,{})}})(e.selectedSubPage)}function ej(e){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.kV,{label:"Show Uncertainty",checked:e.config.showUncertainty,onChange:t=>e.updateConfig({...e.config,showUncertainty:t.target.checked})}),(0,r.jsx)(o.kV,{label:"Show Trend",checked:e.config.showTrend,onChange:t=>e.updateConfig({...e.config,showTrend:t.target.checked})}),(0,r.jsx)(o.kV,{label:"Show History",checked:e.config.showHistory,onChange:t=>e.updateConfig({...e.config,showHistory:t.target.checked})})]})}function ev(e){return(0,r.jsx)(o.z3,{position:"sticky",visible:e.visible,onHide:e.onHide,children:(0,r.jsxs)(o.Xk,{children:[(0,r.jsx)("div",{onClick:t=>{t.target instanceof Element&&"nav-group-toggle"===t.target.className.split(" ")[1]&&e.onNavClick(0,0,t)},children:(0,r.jsxs)(o.dw,{toggler:"Home",children:[(0,r.jsx)(o.U6,{children:(0,r.jsx)(o.AQ,{active:0===e.activePageInd&&0===e.activeSubPageInd,onClick:t=>{e.onNavClick(0,0,t)},children:"Data Upload"})}),!1]},"Home")}),(0,r.jsx)("div",{onClick:t=>{t.target instanceof Element&&"nav-group-toggle"===t.target.className.split(" ")[1]&&e.onNavClick(1,0,t)},children:(0,r.jsxs)(o.dw,{toggler:"Data Selector",children:[(0,r.jsx)(o.U6,{children:(0,r.jsx)(o.AQ,{disabled:!e.dataUploaded,active:1===e.activePageInd&&0===e.activeSubPageInd,onClick:t=>{e.onNavClick(1,0,t)},children:"Column Selection"})}),(0,r.jsx)(o.U6,{children:(0,r.jsx)(o.AQ,{disabled:!e.dataUploaded,active:1===e.activePageInd&&1===e.activeSubPageInd,onClick:t=>{e.onNavClick(1,1,t)},children:"View Data"})}),(0,r.jsx)(o.U6,{children:(0,r.jsx)(o.AQ,{disabled:!e.dataUploaded,active:1===e.activePageInd&&2===e.activeSubPageInd,onClick:t=>{e.onNavClick(1,2,t)},children:"Visualize Data"})}),(0,r.jsx)(o.U6,{children:(0,r.jsx)(o.AQ,{disabled:!e.dataUploaded,active:1===e.activePageInd&&3===e.activeSubPageInd,onClick:t=>{e.onNavClick(1,3,t)},children:"Table View"})})]},"Data Selector")}),(0,r.jsx)("div",{onClick:t=>{t.target instanceof Element&&"nav-group-toggle"===t.target.className.split(" ")[1]&&e.onNavClick(2,0,t)},children:(0,r.jsxs)(o.dw,{toggler:"Model Configuration",children:[(0,r.jsx)(o.U6,{children:(0,r.jsx)(o.AQ,{disabled:!e.dataUploaded||!e.columnsChosen,active:2===e.activePageInd&&0===e.activeSubPageInd,onClick:t=>{e.onNavClick(2,0,t)},children:"Prediction Configuration"})}),(0,r.jsx)(o.U6,{children:(0,r.jsx)(o.AQ,{disabled:!e.dataUploaded||!e.columnsChosen,active:2===e.activePageInd&&1===e.activeSubPageInd,onClick:t=>{e.onNavClick(2,1,t)},children:"Dataset Info"})}),(0,r.jsx)(o.U6,{children:(0,r.jsx)(o.AQ,{disabled:!e.dataUploaded||!e.columnsChosen,active:2===e.activePageInd&&2===e.activeSubPageInd,onClick:t=>{e.onNavClick(2,2,t)},children:"Underlying Trends"})}),(0,r.jsx)(o.U6,{children:(0,r.jsx)(o.AQ,{disabled:!e.dataUploaded||!e.columnsChosen,active:2===e.activePageInd&&3===e.activeSubPageInd,onClick:t=>{e.onNavClick(2,3,t)},children:"Modeling Assumptions"})}),(0,r.jsx)(o.U6,{children:(0,r.jsx)(o.AQ,{disabled:!e.dataUploaded||!e.columnsChosen,active:2===e.activePageInd&&4===e.activeSubPageInd,onClick:t=>{e.onNavClick(2,4,t)},children:"Training Configuration"})}),(0,r.jsx)(o.U6,{children:(0,r.jsx)(o.AQ,{disabled:!e.dataUploaded||!e.columnsChosen,active:2===e.activePageInd&&5===e.activeSubPageInd,onClick:t=>{e.onNavClick(2,5,t)},children:"Validation Configuration"})})]},"Model Configuration")}),(0,r.jsx)("div",{onClick:t=>{t.target instanceof Element&&"nav-group-toggle"===t.target.className.split(" ")[1]&&e.onNavClick(3,0,t)},children:(0,r.jsxs)(o.dw,{toggler:"Model Evaluation",children:[(0,r.jsx)(o.U6,{children:(0,r.jsx)(o.AQ,{disabled:!e.dataUploaded||!e.configured||!e.columnsChosen,active:3===e.activePageInd&&0===e.activeSubPageInd,onClick:t=>{e.onNavClick(3,0,t)},children:"Test Train Split"})}),(0,r.jsx)(o.U6,{children:(0,r.jsx)(o.AQ,{disabled:!e.dataUploaded||!e.configured||!e.columnsChosen,active:3===e.activePageInd&&1===e.activeSubPageInd,onClick:t=>{e.onNavClick(3,1,t)},children:"Model Parameters"})}),(0,r.jsx)(o.U6,{children:(0,r.jsx)(o.AQ,{disabled:!e.dataUploaded||!e.configured||!e.columnsChosen,active:3===e.activePageInd&&2===e.activeSubPageInd,onClick:t=>{e.onNavClick(3,2,t)},children:"Previous Performance"})})]},"Model Evaluation")}),(0,r.jsx)("div",{onClick:t=>{t.target instanceof Element&&"nav-group-toggle"===t.target.className.split(" ")[1]&&e.onNavClick(4,-1,t)},children:(0,r.jsxs)(o.dw,{toggler:"Prediction",children:[(0,r.jsx)(ej,{config:e.chartConfig,updateConfig:e.onPredictionConfigChange},"prediction-card"),(0,r.jsx)(o.U6,{children:(0,r.jsx)(o.AQ,{disabled:!e.dataUploaded||!e.configured||!e.columnsChosen,onClick:t=>e.onNavClick(4,0,t),children:"Export"})})]},"Prediction")})]})})}var eb=a(11163);function ey(e){let{onDataUpload:t}=e,a=(0,eb.useRouter)();(0,l.C)(d.Wb),(0,l.C)(d.e_),(0,l.C)(d.$m);let n=(0,l.C)(e=>e.datasets.status);(0,l.C)(d._L);let i=(0,l.T)(),[c,h]=(0,s.useState)(""),[u,g]=(0,s.useState)(),m=async e=>{try{let n=await i((0,T.nf)(e)).unwrap(),r=Object.keys(n.data[0]);i((0,T.vR)(r)),i((0,T.PR)()),n.errors.length>0?a.push("/wizard/data-errors"):t()}catch(e){g((0,E.p)("Error: "+e.message))}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.rb,{className:"my-2",children:(0,r.jsxs)(o.b7,{children:[(0,r.jsx)("h5",{children:"Import from your computer"}),(0,r.jsx)(o.jO,{type:"file",disabled:"loading"===n,onChange:e=>{if(e.target.files&&e.target.files.length>0)return m(e.target.files[0])},accept:".csv"})]})}),(0,r.jsxs)(o.rb,{children:[(0,r.jsx)("h5",{children:"Import online dataset"}),(0,r.jsx)(o.b7,{children:(0,r.jsx)(o.jO,{type:"text",onChange:e=>{h(e.target.value)}})}),(0,r.jsx)(o.b7,{children:(0,r.jsx)(o.u5,{color:"primary",disabled:"loading"===n,onClick:e=>{m(c)},children:"Submit"})}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{})]})]})}var eC=a(45909),ek=a(16582);function ew(e){let{onDataUpload:t}=e;(0,eb.useRouter)(),(0,l.C)(d.Wb),(0,l.C)(d.e_),(0,l.C)(d.$m);let a=(0,l.C)(e=>e.datasets.status);(0,l.C)(d._L);let n=(0,l.T)(),[i,c]=(0,s.useState)(),[h,u]=(0,s.useState)(""),g=async e=>{try{let a=await n((0,T.nf)(e)).unwrap(),i=Object.keys(a.data[0]);n((0,T.vR)(i)),n((0,T.PR)()),a.errors.length>0||t()}catch(e){c((0,E.p)("Error: "+e.message))}};return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(o.rb,{xs:{cols:1,gutter:4},md:{cols:4},children:ek.Z.map(e=>(0,r.jsx)(eC.Z,{dataset:e,importAction:()=>g(e.fullUrl),disabled:"loading"===a},e.filename))})})}function eS(e){let t=(0,s.useMemo)(()=>(function(e,t){switch(e){case"Data Upload":return(0,r.jsx)(ey,{onDataUpload:t});case"Sample Data":return(0,r.jsx)(ew,{onDataUpload:t})}})(e.view,e.onDataUpload),[e.view,e.onDataUpload]);return t}let eT=["Data Upload","Sample Data"],eN=["prediction-configuration","dataset-info","underlying-trends","modeling-assumptions","training-configuration","validation-configuration"],eP=["data-selector","data-viewer","data-visualize","data-table"],eE=["Test Train Split","Model Parameters","Previous Performance"];(n=i||(i={}))[n.Home=0]="Home",n[n.DataSelector=1]="DataSelector",n[n.ModelConfiguration=2]="ModelConfiguration",n[n.ModelEvaluation=3]="ModelEvaluation",n[n.Prediction=4]="Prediction";let eU=["Home Page","Data Selector","Model Configuration","Model Evaluation","Prediction"];function eI(){let e=(0,l.T)(),t=(0,l.C)(d.dO),a=(0,l.C)(d.Wb),n=(0,l.C)(e=>e.datasets.columns),c=(0,l.C)(d.Oj),[h,u]=(0,s.useState)(0),[g,m]=(0,s.useState)(0),[p,x]=(0,s.useState)(),[f,j]=(0,s.useState)({showUncertainty:!0,showTrend:!1,showEvents:!1,showHistory:!0}),[v,b]=(0,s.useState)(!1),[y,k]=(0,s.useState)(!0),w=e=>{e instanceof P.jm?x((0,E.p)("The model configuration was invalid.")):e.message?x((0,E.p)("Something went wrong: "+e.message)):e.detail?e.detail instanceof Array?x((0,E.p)("The model configuration was invalid.")):x((0,E.p)("Neural Prophet failed: "+e.detail)):x((0,E.p)("An unknown error occured."))},U=async()=>{try{await e((0,T.uu)({dataset:(0,N.Of)(a,t,n),configuration:t})).unwrap()}catch(e){console.log(e),w(e)}},I=async()=>{try{await e((0,T.OP)({dataset:(0,N.Of)(a,t,n),configuration:t})).unwrap()}catch(e){w(e)}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.pf,{colorScheme:"dark",className:"bg-dark",children:(0,r.jsxs)(o.KB,{fluid:!0,children:[(0,r.jsx)(o.f5,{className:"np-sidebar-toggle",onClick:e=>{k(!y)}}),(0,r.jsx)(o.zB,{href:"https://neuralprophet.com/",children:"Forecapp"})]})}),(0,r.jsxs)("div",{className:"row align-items-start",children:[(0,r.jsx)("div",{className:"np-sidebar",children:(0,r.jsx)(ev,{visible:y,activePageInd:h,activeSubPageInd:g,chartConfig:f,onNavClick:(e,t,r)=>{if(r.preventDefault(),console.log(r),r.target instanceof Element&&r.target.className.split(" ")[1],console.log("Click event : ("+e+", "+t+")"),e===i.ModelConfiguration&&(b(!0),location.href="#".concat(eN[t])),void 0===a){e===i.Home&&m(t);return}if((0,eh.c3)(n.timeColumn)&&(0,eh.c3)(n.targetColumn)){if(!v&&(e===i.Prediction||e===i.ModelEvaluation))return}else if(e===i.Home||e===i.DataSelector){u(e),m(t);return}u(e),m(t)},onPredictionConfigChange:j,onHide:()=>k(!1),configured:v,dataUploaded:void 0!==a,columnsChosen:(0,eh.c3)(n.timeColumn)&&(0,eh.c3)(n.targetColumn)})}),(0,r.jsx)("div",{className:"np-side-content",children:function(e,t){let a=eU[e];switch(a){case"Home Page":return(0,r.jsx)(eS,{view:eT[t],onDataUpload:()=>{u(i.DataSelector),m(0)}});case"Model Evaluation":return(0,r.jsx)(C,{view:eE[t],validate:I});case"Prediction":return(0,r.jsx)(S,{chartConfig:f,stalePrediction:c,predict:U,exportModal:0===t,onCloseModal:()=>m(-1)});case"Model Configuration":return(0,r.jsx)(es,{onSelectionChange:e=>{let t=eN.findIndex(t=>t===e);m(t)}});case"Data Selector":return(0,r.jsx)(ef,{selectedSubPage:eP[t]})}}(h,g)}),(0,r.jsx)(o.KF,{push:p,placement:"bottom-end"})]})]})}},16582:function(e,t,a){"use strict";let n=[{title:"Energy (2018)",filename:"energy_dataset_2018.csv",description:"This dataset contains 1 year of electrical consumption, generation, pricing, and weather data for Spain in hourly resolution.",image:"photo-1508791290064-c27cc1ef7a9a"},{title:"Energy (full)",filename:"energy_dataset.csv",description:"This dataset contains 4 years of electrical consumption, generation, pricing, and weather data for Spain in hourly resolution.",image:"photo-1473341304170-971dccb5ac1e"},{title:"Online retail (5k)",filename:"online_retail_II_5k.csv",image:"photo-1563013544-824ae1b704d3"},{title:"Air passengers",filename:"air_passengers.csv",image:"photo-1569629743817-70d8db6c323b"},{title:"Energy (small)",filename:"energy_dataset_small.csv",description:"This dataset contains 1 month of electrical consumption, generation, pricing, and weather data for Spain in hourly resolution.",image:"photo-1473341304170-971dccb5ac1e"}].map(e=>({fullUrl:"./datasets/"+e.filename,...e}));t.Z=n}},function(e){e.O(0,[645,22,553,664,195,324,854,401,613,774,888,179],function(){return e(e.s=48312)}),_N_E=e.O()}]);